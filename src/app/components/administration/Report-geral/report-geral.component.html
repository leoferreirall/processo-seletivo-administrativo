<section class="content-header">
  <div class="container-fluid">
    <div class="col-md-12">
      <h1>Relatório Geral</h1>
      <hr>
    </div>
  </div>
</section>
<section class="content">
  <div class="container-fluid">
    <form #formReport="ngForm" name="formReport" (ngSubmit)="onSubmitExportar(report)">
      <div class="form-row">
        <div class="form-group col-md-1">
          <label for="codColigada">Coligada:</label>
          <input class="form-control" id="codColigada" name="codColigada" readonly [value]="report.codColigada">
        </div>
        <div class="form-group col-md-3">
          <label for="tipoCurso">Tipo de curso:</label>
          <select class="form-control" id="tipoCurso" name="tipoCurso" [disabled]="listaTipoCurso.length == 0" [(ngModel)]="report.tipoCurso"
            (change)="onChangeTipoCurso(report.tipoCurso.codColigada, report.tipoCurso.codTipoCurso)">
            <option *ngFor="let item of listaTipoCurso" [ngValue]="item">{{item.descricaoTipoCurso}}</option>
          </select>
        </div>
        <div class="form-group col-md-2">
          <label for="codFilial">Unidade:</label>
          <select class="form-control" id="codFilial" name="codFilial" [disabled]="listaUnidades.length == 0" [(ngModel)]="report.codFilial"
            (change)="onChangeUnidade(report.codColigada, report.codTipoCurso, report.codFilial)">
            <option *ngFor="let item of listaUnidades" [ngValue]="item.codFilial">{{item.descricaoFilial}}</option>
          </select>
        </div>
        <div class="form-group col-md-2">
          <label for="idCategoriaPs">Categoria:</label>
          <select class="form-control" id="idCategoriaPs" name="idCategoriaPs" [disabled]="listaCategoria.length == 0" [(ngModel)]="report.idCategoriaPs"
          (change)="onChangeCategoria(report.codColigada, report.codTipoCurso, report.codFilial, report.idCategoriaPs)">
            <option *ngFor="let item of listaCategoria" [ngValue]="item.idCategoriaPs">{{item.descricaoCategoriaPS}}</option>
          </select>
        </div>
        <div class="form-group col-md-3">
          <label for="idPerLet">Período letivo:</label>
          <select class="form-control" id="idPerLet" name="idPerLet" [disabled]="listaPeriodoLetivo.length == 0" [(ngModel)]="report.idPerLet"
            (change)="onChangePeriodoLetivo(report.codColigada, report.codTipoCurso, report.codFilial, report.idCategoriaPs, report.idPerLet)">
            <option *ngFor="let item of listaPeriodoLetivo" [ngValue]="item.idPerLet">{{item.idPerLet}} -
              {{item.descricaoPeriodoLetivo}}</option>
          </select>
        </div>        
        <div class="form-group col-md-4">
          <label for="cursos">Curso:</label>
          <select class="form-control" id="cursos" name="cursos" [disabled]="listaCursos.length == 0" [(ngModel)]="report.cursos"
            (blur)="onChangeCurso(report)" multiple>
            <option (click)="onChangeSelect($event, listaCursos, 'cursos', 'codCurso')" id="0" [value]="0">Todos
            </option>
            <option (click)="onChangeSelect($event, listaCursos, 'cursos', 'codCurso')" [id]="item.codCurso"
              *ngFor="let item of listaCursos" [ngValue]="item.codCurso">{{item.descricaoCurso}}</option>
          </select>
        </div>
        <div class="form-group col-md-4">
          <label for="turnos">Turno:</label>
          <select class="form-control" id="turnos" name="turnos" [disabled]="listaTurnos.length == 0" [(ngModel)]="report.turnos"
            (blur)="onChangeTurno(report)" multiple>
            <option (click)="onChangeSelect($event, listaTurnos, 'turnos', 'codTurno')" id="0" [value]="0">Todos
            </option>
            <option (click)="onChangeSelect($event, listaTurnos, 'turnos', 'codTurno')" [id]="item.codTurno"
              *ngFor="let item of listaTurnos" [ngValue]="item.codTurno">{{item.descricaoTurno}}</option>
          </select>
        </div>    
        <div class="form-group col-md-4">
          <label for="formasIngresso">Forma de ingresso:</label>
          <select class="form-control" id="formasIngresso" name="formasIngresso" [disabled]="listaFormaIngresso.length == 0" [(ngModel)]="report.formasIngresso"
            (blur)="onChangeFormaIngresso()" multiple>
            <option (click)="onChangeSelect($event, listaFormaIngresso, 'formasIngresso', 'codFormaIngresso')" id="0"
              [value]="0">Todos</option>
            <option (click)="onChangeSelect($event, listaFormaIngresso, 'formasIngresso', 'codFormaIngresso')"
              [id]="item.codFormaIngresso" *ngFor="let item of listaFormaIngresso" [ngValue]="item.codFormaIngresso">
              {{item.descricaoFormaIngresso}}</option>
          </select>
        </div>     
        <div class="offset-lg-10 col-md-2">
          <button type="submit" class="btn btn-dark btn-block">Exportar</button>
        </div>
      </div>
    </form>
  </div>
</section>
